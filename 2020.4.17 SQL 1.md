# SQL  

## 데이터 모델링의 이해  
  
### 1. 엔터티  
1. 엔터티의 개념  
  
: 업무에 필요하고 유용한 정보를 저장하고 관리하기 위한 집합적인 것  
업무 활동상 지속적인 관심을 가지고 있어야 하는 대상으로서, 그 대상들 간에 동질성을 지닌 인스턴스들이나 그들이 행하는 행위의 집합  
cf) 속성 : 엔터티 집합에 속하는 개체들의 특성을 설명 가능  
엔터티 인스턴스 전체가 공유할 수 있는 공통 속성도 있고, 엔터티 인스턴스 중 일부에만 해당하는 개별 속성도 있다
*엔터티는 인스턴스의 집합, 인스턴스는 엔터티 하나의 값에 해당*  
 
  2. 엔터티와 인스턴스에 대한 내용과  표기법  
 ![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_023.jpg)  
 과목, 강사 사건 < 엔터티  
 수학, 영어 < 엔터티의 인스턴스  
 이춘식, 조시형 < 강사라는 엔터티의 인스턴스  
 사건번호인 2010-001, 2010-002 < 사건 엔터티의 인스턴스  
  
3. 엔터티의 특징  
  
(1) 업무에서 필요로 하는 정보
(2) 식별이 가능해야 함  
: 식별자가 두 개 이상의 엔터티를 대변하면 그 식별자는 잘못 설계된 것  
(3) 인스턴스의 집합  
: 인스턴스는 무조건 두개 이상  
(4) 업무 프로세스에 의해 이용  
(5) 속성을 포함  
(6) 관계의 존재  
: 엔터티는 다른 엔터티와 최소 한 개 이상의 관계가 존재해야 한다  
  
4. 엔터티의 분류  
  
(1) 유무형에 따른 분류  
- 유형 엔터티 : 물리적인 형태 있음 안정적이며 지속적으로 활용하는 엔터티  
- 개념 엔터티 : 물리적인 형태 없음 관리해야 할 개념적 정보로 구분되는 엔터티  
- 사건 엔터티 : 업무를 수행함에 따라 발생되는 엔터티  
  
5. 엔터티의 명명  
  
(1) 현업 업무에 사용하는 용어를 사용  
(2) 약어 사용 x  
(3) 단수 명사 이용  
(4) 엔터티에서 유일하게 부여 
(5) 엔터티 생성 의미대로 이름을 부여  
  
  
### 2. 속성  
  
1. 속성의 개념  
  
: 업무에서 필요로 하는 인스턴스로 관리하고자 하는 의미상 더 이상 분리되지 않는 최소의 데이터 단위

2. 엔터티, 인스턴스와 속성, 속성값에 대한 내용과 표기법  
  
(1) 엔터티, 인스턴스, 속성, 속성값의 관계  
  
하나의 속성은 하나의 인스턴스에만 존재할 수 있다. 속성은 관계로 기술될 수 없고 자신이 속성을 가질 수도 없다. 엔터티 내에 있는 하나의 인스턴스는 각각의 속성들에 대해 한 개의 속성값만을 가질 수 있다.  
*속성값은 각각의 엔터티가 가지는 속성들의 구체적인 내용이다.*  
***한 개의 엔터티는 두 개 이상의 인스턴스의 집합이어야 한다.***  
***한 개의 엔터티는 두 개 이상의 속성을 갖는다.***  
***한 개의 속성은 한 개의 속성값을 갖는다.***  
![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_033.jpg)  
속성은 엔터티에 속한 엔터티에 대한 자세하고 구체적인 정보를 나타낸다  
  
(2) 속성의 표기법  
  
![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_034.jpg)
  
   
 3. 속성의 특징
  
(1) 반드시 해당 업무에서 필요하고 관리하고자 하는 정보여야 한다  
(2) 정규화 이론에 근간하여 정해진 주식별자에 함수적 종속성을 가져야 한다  
(3) 하나의 속성에는 한 개의 값만 가진다  
  
 4. 속성의 분류  
   
 (1) 속성의 특성에 따른 분류  
- 기본 속성 : 업무로부터 추출한 모든 속성이 해당됨  
- 설계 속성 : 업무상 필요한 데이터 이외에 데이터 모델링을 위해, 업무를 규칙화하기 위해 속성을 새로 만들거나 변형하여 정의하는 속성  
- 파생 속성 : 다른 속성에 영향을 받아 발생하는 속성으로 계산된 값들이 이에 해당  
   
 (2) 엔터티 구성방식에 따른 분류  
   
- PK(primary key) : 엔터티를 식별 할 수 있는 속성  
- FK(foreign key) : 다른 엔터티와의 관계에서 포함된 속성  
- 일반속성 : PK, FK 에 포함되지 않은 속성  
- 복합속성 : 여러 세부 속성들로 구성  
- 단순속성 : 더 이상 다른 속성들로 구성될 수 없을 때  
- 단일 값 : 속성 하나에 한 개의 값을 가지는 경우  
- 다중 값 : 여러 개의 값을 가지는 경우  
  
5. 도메인
   
: 각 속성이 가질 수 있는 값의 범위  
ex) 학점 0.0~4.5  
  
6. 속성의 명명  
  
(1) 해당 업무에서 사용하는 이름을 부여 한다
(2) 서술식 속성명은 사용하지 않는다
(3) 약어 사용은 가급적 제한 한다
(4) 전체 데이터 모델에서 유일성 확보하는 것이 좋다
 
### 관계  
  
1, 관계의 개념  
  
(1) 관계의 정의  
:엔터티의 인스턴스 사이의 논리적인 연관성으로서 존재의 현태로서나 행위로서 행위로서 서로에게 연관성이 부여된 상태  
  
(2) 관계의 페어링  
:관계는 엔터티 안에 인스턴스가 개별적으로 관계를 가지는 것(패어링)이고 이것의 집합을 관계로 표현한다는 것이다. 따라서 개별 인스턴스가 각각 다른 종류의 관계를 가지고 있다면 두 엔터티 사이에 두 개 이상의 관계가 형성될 수 있다.  
  
2. 관계의 분류  
  
![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_040.jpg)
  
3. 관계의 표기법  
  
(1) 관계명(Membership)  
:관계의 이름  
- 애매한 동사 피하기  
- 현재형으로 표현  
  
(2) 관계차수(Degree/Cardinality)  
:두 개의 엔터티간 관계에서 참여자의 수를 표현하는 것, 1:N, 1:1, N:N  
- 1:1 관계 표시  
![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_042.jpg)  
  
- 1:N 관계 표시  
![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_043.jpg)  
  
- N:N 관계 표시  
![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_044.jpg)  
  
(3) 관계선택사양  
필수 참여 관계 : 서로 필수적인 관계  
선택 참여 관계 : 관련은 있지만 필수적인 관계는 아님 < ERD 모형에서는 선택 참여 하는 엔터티 쪽을 원으로 표시  
*관계 표시된 양쪽 엔터티에 모두 선택 참여가 표시된다면(0:0가 된다면) 그 관계는 잘못될 확률 높음  
![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_046.jpg)  
  
4. 관계의 정의 및 읽는 방법  
  
(1) 관계 체크사항  
-   두 개의 엔터티 사이에 관심있는 연관규칙이 존재하는가?
-   두 개의 엔터티 사이에 정보의 조합이 발생되는가?
-   업무기술서, 장표에 관계연결에 대한 규칙이 서술되어 있는가?
-   업무기술서, 장표에 관계연결을 가능하게 하는 동사(Verb)가 있는가?

(2) 관계 읽기  
데이터 모델을 읽는 방법은 먼저 관계에 참여하는 기준 엔터티를 하나 또는 각(Each)으로 읽고 대상 엔터티의 개수(하나, 하나 이상)를 읽고 관계선택사양과 관계명을 읽도록 한다.

-   기준(Source) 엔터티를 한 개(One) 또는 각(Each)으로 읽는다.
-   대상(Target) 엔터티의 관계참여도 즉 개수(하나, 하나 이상)를 읽는다.
-   관계선택사양과 관계명을 읽는다.
